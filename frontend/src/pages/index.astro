---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import ProductCard from '../components/ProductCard.astro';
import SolanaWallet from '../components/solana/SolanaWallet.astro';
import WalletConnect from '../components/solana/WalletConnect.astro';

// Sample data - in a real app, this would come from an API
const featuredProducts = [
  {
    id: 1,
    title: "Vintage Camera Collection",
    description: "Rare vintage cameras from the 1960s",
    price: 299.99,
    originalPrice: 399.99,
    image: "https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=300&h=200&fit=crop&crop=center",
    rating: 4.8,
    reviewCount: 124,
    seller: "CameraExpert",
    location: "New York, NY",
    badge: "Featured" as const,
    condition: "Used"
  },
  {
    id: 2,
    title: "Wireless Headphones",
    description: "Premium noise-canceling headphones",
    price: 199.99,
    image: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=300&h=200&fit=crop&crop=center",
    rating: 4.9,
    reviewCount: 89,
    seller: "TechStore",
    location: "San Francisco, CA",
    badge: "New" as const,
    condition: "New"
  },
  {
    id: 3,
    title: "Designer Watch",
    description: "Luxury Swiss-made timepiece",
    price: 1299.99,
    originalPrice: 1599.99,
    image: "https://images.unsplash.com/photo-1523170335258-f5e6a648e4b0?w=300&h=200&fit=crop&crop=center",
    rating: 4.7,
    reviewCount: 67,
    seller: "LuxuryTime",
    location: "Miami, FL",
    badge: "Sale" as const,
    condition: "New"
  },
  {
    id: 4,
    title: "Eco-Friendly Backpack",
    description: "Sustainable travel companion",
    price: 79.99,
    image: "https://images.unsplash.com/photo-1553062407-98eeb64c6a62?w=300&h=200&fit=crop&crop=center",
    rating: 4.6,
    reviewCount: 156,
    seller: "GreenGear",
    location: "Portland, OR",
    badge: "Eco" as const,
    condition: "New"
  }
];

const categories = [
  { name: "Electronics", icon: "üì±", count: "12,345 items" },
  { name: "Fashion", icon: "üëï", count: "8,765 items" },
  { name: "Home & Garden", icon: "üè†", count: "5,432 items" },
  { name: "Automotive", icon: "üöó", count: "3,210 items" },
  { name: "Gaming", icon: "üéÆ", count: "6,789 items" },
  { name: "Jewelry", icon: "üíé", count: "2,456 items" }
];

const features = [
  {
    icon: "üîí",
    title: "Secure Payments",
    description: "Blockchain-powered security with Solana technology"
  },
  {
    icon: "‚ö°",
    title: "Fast Transactions",
    description: "Lightning-fast payments and instant settlements"
  },
  {
    icon: "üåç",
    title: "Global Marketplace",
    description: "Buy and sell with users worldwide"
  },
  {
    icon: "üíé",
    title: "Premium Quality",
    description: "Curated products from verified sellers"
  }
];
---

<Layout title="Soladia - The Ultimate Marketplace">
  <Navigation />
  
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-16">
      <div class="text-center">
        <h1 class="hero-title mobile-text-3xl sm:mobile-text-4xl lg:mobile-text-5xl xl:mobile-text-6xl">
          Welcome to Soladia
        </h1>
        <p class="hero-subtitle mobile-text-base sm:mobile-text-lg lg:mobile-text-xl">
          The Ultimate Marketplace Powered by Solana Blockchain
        </p>
        <div class="hero-actions mobile-flex sm:flex-row">
          <a href="/products" class="btn-primary btn-large mobile-btn sm:w-auto">
            Start Shopping
          </a>
          <a href="/sell" class="btn-secondary btn-large mobile-btn sm:w-auto">
            Start Selling
          </a>
          <button class="btn-solana btn-large mobile-btn sm:w-auto" id="connect-wallet-hero">
            <span class="btn-icon">‚òÄÔ∏è</span>
            <span class="mobile-only">Connect Wallet</span>
            <span class="mobile-hidden">Connect Solana Wallet</span>
          </button>
        </div>
        
        <!-- Solana Wallet Integration -->
        <div class="wallet-section mt-6 sm:mt-8 max-w-md mx-auto">
          <SolanaWallet />
        </div>
      </div>
    </div>
  </section>

  <!-- Categories Section -->
  <section class="categories-section">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-16">
      <h2 class="section-title mobile-text-2xl sm:mobile-text-3xl lg:mobile-text-4xl">
        Shop by Category
      </h2>
      <div class="categories-grid mobile-grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6">
        {categories.map((category) => (
          <div class="category-card mobile-card" data-category={category.name}>
            <div class="category-icon text-2xl sm:text-3xl lg:text-4xl">{category.icon}</div>
            <h3 class="category-name mobile-text-sm sm:mobile-text-base lg:mobile-text-lg">
              {category.name}
            </h3>
            <p class="category-count mobile-text-xs sm:mobile-text-sm">
              {category.count}
            </p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Featured Products -->
  <section class="featured-section">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-16">
      <h2 class="section-title mobile-text-2xl sm:mobile-text-3xl lg:mobile-text-4xl">
        Featured Products
      </h2>
      <div class="products-grid mobile-grid sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4">
        {featuredProducts.map((product) => (
          <ProductCard {...product} />
        ))}
      </div>
    </div>
  </section>

  <!-- Why Choose Soladia -->
  <section class="features-section">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12 lg:py-16">
      <h2 class="section-title mobile-text-2xl sm:mobile-text-3xl lg:mobile-text-4xl">
        Why Choose Soladia?
      </h2>
      <div class="features-grid mobile-grid sm:grid-cols-2 lg:grid-cols-4">
        {features.map((feature) => (
          <div class="feature-card mobile-card">
            <div class="feature-icon text-3xl sm:text-4xl lg:text-5xl">{feature.icon}</div>
            <h3 class="feature-title mobile-text-lg sm:mobile-text-xl lg:mobile-text-2xl">
              {feature.title}
            </h3>
            <p class="feature-description mobile-text-sm sm:mobile-text-base">
              {feature.description}
            </p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">
      <div class="footer-content mobile-grid sm:grid-cols-2 lg:grid-cols-4">
        <div class="footer-section">
          <h3 class="footer-title mobile-text-lg sm:mobile-text-xl">Soladia</h3>
          <p class="footer-description mobile-text-sm sm:mobile-text-base">
            The ultimate marketplace powered by Solana blockchain technology.
          </p>
        </div>
        <div class="footer-section">
          <h4 class="footer-subtitle mobile-text-base sm:mobile-text-lg">Buy</h4>
          <ul class="footer-links mobile-nav">
            <li><a href="/categories" class="mobile-text-sm sm:mobile-text-base">Categories</a></li>
            <li><a href="/deals" class="mobile-text-sm sm:mobile-text-base">Daily Deals</a></li>
            <li><a href="/gift-cards" class="mobile-text-sm sm:mobile-text-base">Gift Cards</a></li>
            <li><a href="/nft" class="mobile-text-sm sm:mobile-text-base">NFT Marketplace</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4 class="footer-subtitle mobile-text-base sm:mobile-text-lg">Sell</h4>
          <ul class="footer-links mobile-nav">
            <li><a href="/sell" class="mobile-text-sm sm:mobile-text-base">Start Selling</a></li>
            <li><a href="/seller/dashboard" class="mobile-text-sm sm:mobile-text-base">Seller Dashboard</a></li>
            <li><a href="/fees" class="mobile-text-sm sm:mobile-text-base">Fees & Pricing</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4 class="footer-subtitle mobile-text-base sm:mobile-text-lg">Support</h4>
          <ul class="footer-links mobile-nav">
            <li><a href="/help" class="mobile-text-sm sm:mobile-text-base">Help Center</a></li>
            <li><a href="/contact" class="mobile-text-sm sm:mobile-text-base">Contact Us</a></li>
            <li><a href="/security" class="mobile-text-sm sm:mobile-text-base">Security</a></li>
            <li><a href="/wallet" class="mobile-text-sm sm:mobile-text-base">Wallet Guide</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-bottom">
        <p class="mobile-text-xs sm:mobile-text-sm">
          &copy; 2025 Soladia. All rights reserved. Powered by Solana.
        </p>
      </div>
    </div>
  </footer>

  <!-- Wallet Connect Modal -->
  <WalletConnect />
</Layout>

<script>
  // Category card interactions
  document.addEventListener('DOMContentLoaded', () => {
    const categoryCards = document.querySelectorAll('.category-card');
    
    categoryCards.forEach(card => {
      card.addEventListener('click', function(this: HTMLElement) {
        const category = this.getAttribute('data-category');
        if (category) {
          window.location.href = `/categories/${category.toLowerCase().replace(/\s+/g, '-')}`;
        }
      });
    });

    // Wallet connection button
    const connectWalletBtn = document.getElementById('connect-wallet-hero');
    if (connectWalletBtn) {
      connectWalletBtn.addEventListener('click', () => {
        window.openWalletConnect?.();
      });
    }
  });
</script>

<style>
  .btn-solana {
    @apply px-8 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200 flex items-center justify-center space-x-2;
  }

  .btn-icon {
    @apply text-lg;
  }

  .wallet-section {
    @apply mt-8 max-w-md mx-auto;
  }
</style>